<div style="border: 2px solid green">

  <button (click)="expanded = ! expanded">Expand</button>

  id ({{treeNode.item$.id}})

  <app-tree-node-content></app-tree-node-content>

  children: {{(treeNode.childNodesList$ | async) ?. length}}

  <ng-container
    *ngIf="!(treeNode.childNodesList$ | async)"
  >
    Loading....
  </ng-container>


  <div style="margin-left: 20px" *ngIf="expanded">
    <div
      *ngIf="(treeNode.childNodesList$ | async) let childNodesList"
    >
      <app-tree-node
        *ngFor="let node of childNodesList; trackBy: trackById"
        [treeNode]="node"
      ></app-tree-node>

    </div>


<!--    <div-->
<!--      *ngIf="!(treeNode.childNodesList$ | async)"-->
<!--    >-->
<!--      Loading.... <ion-spinner style="height: 15px"></ion-spinner>-->
<!--    </div>-->

    <!-- NOTE: we might already have some list, e.g. it's not fully loaded (coz need to finish another query),
      and/or

      hence, maybe: (childNodesListStatus$ | async)?.isLoadingFinished
    -->

  </div>


  <button (click)="addChild()">
    Add
  </button>

</div>

